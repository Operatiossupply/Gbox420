# Gbox420
<div>
<div><img width="96" height="96" src="https://sites.google.com/site/growboxguy/home/gbox420.png" style="display:inline;float:left" >
<a href="https://www.patreon.com/growboxguy"><img width="48" height="48" src="https://sites.google.com/site/growboxguy/home/patreon.png" style="border:none;margin:0;padding:0px"></a>
<a href="https://www.facebook.com/Gbox420-1495966037151416/"><img width="48" height="48" src="https://sites.google.com/site/growboxguy/home/if_facebook_1807546.png" style="border:none;margin:0;padding:0px"></a>
<a href="https://github.com/growboxguy/Gbox420"><img width="48" height="48" src="https://sites.google.com/site/growboxguy/home/if_github.png" style="border:none;margin:0;padding:0px"></a>
<a href="https://plus.google.com/106380858241253565250"><img width="48" height="48" src="https://sites.google.com/site/growboxguy/home/if_google__1807544.png" style="border:none;margin:0;padding:0px"></a>
<a href="https://www.tumblr.com/blog/growboxguy"><img width="48" height="48" src="https://sites.google.com/site/growboxguy/home/if_tumblr_986957.png" style="border:none;margin:0;padding:0px"></a>
<a href="https://twitter.com/growboxguy"><img width="48" height="48" src="https://sites.google.com/site/growboxguy/home/if_4_939755.png" style="border:none;margin:0;padding:0px"></a>
<a href="mailto:GrowBoxGuy@gmail.com"><img width="48" height="48" src="https://sites.google.com/site/growboxguy/home/if_Android-Gmail_72149%20%281%29.png" style="border:none;margin:0;padding:0px"></a>
</div><br>
<div style="display:inline!important">
<b style="font-size:16px">
<font color="#444444">&nbsp;Project made by </font>
<font color="#00ab44">GrowBoxGuy</font><br>		
&nbsp;<a href="http://sites.google.com/site/growboxguy/">sites.google.com/site/growboxguy/</a>
</b>
</div><br>

<h2>Assembly guide: https://sites.google.com/site/growboxguy/arduino</h2>

<span>We build an Arduino based grow box monitoring and controlling system housed inside a PC case with a power supply. An</span> <span class="c2">[ATmega2560](https://www.google.com/url?q=http://ww1.microchip.com/downloads/en/DeviceDoc/Atmel-2549-8-bit-AVR-Microcontroller-ATmega640-1280-1281-2560-2561_datasheet.pdf&sa=D&ust=1557436867103000)</span><span> microcontroller will be running the Arduino sketch interacting with sensors and controllers. Network connection will be provided by an</span><span> </span><span class="c2">[ESP8266](https://www.google.com/url?q=https://en.wikipedia.org/wiki/ESP8266&sa=D&ust=1557436867103000)</span><span>WiFi chip running a custom</span> <span class="c2">[ESP-Link](https://www.google.com/url?q=https://github.com/jeelabs/esp-link&sa=D&ust=1557436867104000)</span><span>firmware. Sensor readings will be relayed through</span> <span class="c2">[PushingBox](https://www.google.com/url?q=https://www.pushingbox.com&sa=D&ust=1557436867104000)</span><span> </span><span class="c1">message API to Google Sheets. The ESP8266 WiFi chip will act as an internet gateway and a web server at the same time, hosting a mobile friendly control and monitoring interface for the grow box.</span>

Sketches were written using</span> <span class="c2">[Arduino Software (IDE)](https://www.google.com/url?q=https://www.arduino.cc/en/Main/Software&sa=D&ust=1557436867105000)</span><span>and circuits were drawn using</span> <span class="c2">[Fritzing](https://www.google.com/url?q=http://fritzing.org/download/&sa=D&ust=1557436867105000)</span><span class="c1">, both applications are open source, free and support Windows, Linux and Mac OS X as well.</span>


<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1054.50px; height: 507.41px;">![](https://docs.google.com/drawings/d/saJcW0ASTVO8vFDMZu1nxyQ/image?parent=e/2PACX-1vQvYccN7HQagkkiJmnWnC9voV9BdUnlLJpBxkxm6IWhwOkDgnfQMIuEk7P0Qb0XWItQERhsHRpUtETL&rev=1413&h=507&w=1054&ac=1)</span>

<span class="c1">The spaghetti monster inside the PC case is the brains of the entire automation project. Somewhere under these wires is an Arduino board reading sensor data and controlling the 8 relays that switch power to the different electronic components. The relays switch either AC power straight from the main`s power rails or DC power generated by the ATX power supply. The entire case has a single fused C14 mains power connector with its output connected through a power meter to three power rails (ACL, ACN and Ground).  Thanks to the single power input we can take accurate power consumption measurements of the entire system as all components use the same power rails.  The LED driver inside the case is cooled by the factory 8cm front facing fan.  The PC Speaker, PC case LEDs and the power button provide some basic feedback from the Gbox420 sketch.</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 549.79px; height: 682.50px;">![](https://lh3.googleusercontent.com/e9y-rFPc8If2W5Z5juLdagCr0urQLj4TfkW4uWzxPDSyb6KfVHOG9h0xw6MQ9WEtELTe-3LYpcuaQRmiDkd6ed3pW7L3i3mMmkg_zqmrRy1bDxwCN9RsPy_EliUgisM76YRO_FRe)</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 635.53px; height: 682.50px;">![](https://lh4.googleusercontent.com/RZTE4udaQ7hnkIY10PcZOr_TGHFOJUjWyBAaRcIsBgQhoeStVIaGlVLE9Geonj05caztRR6YG7UObNZeMSXJ4W0d3WjsTE9Y4xLs5HLUuIAlBNq2nPJm1Wij-l99i03ZiepUo0ed)</span>

<span class="c1">Don`t let the cable chaos let you down, most of the mess is caused by optional components like the LCD and four digit LED screen. You can skip these components and only use the web interface to get all the feedback and control you need. The goal was to publish the controls that are needed during the day to day operation to the web interface and have the preliminary setup inside the Arduino sketch.</span>

<span class="c1"></span>

<span class="c1">The website hosted by ESP-Link firmware is dynamically updated every five seconds with data from the Arduino. The page scales down to mobile screens using a hamburger menu and a single column view. Changes made on the control website are automatically stored inside the ATMega’s built in EEPROM and logging happens over the WiFi connection to Google Sheets, there is no need for an SD card to store any data.</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 803.00px; height: 686.44px;">![](https://lh5.googleusercontent.com/YBZSFQHG7XIL12pP1_mnIHm5OGNAJgrJvss1Q2QgynZqEN7CD0ZSjJHjeD0Q0KxcBI2O5H-AXWr4LF8ZX3IRYmBTSU7QYUip2xFkzZ0nNc-c64BDowWr0YfjNwiSYfUsK4-wWVt0)</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 393.50px; height: 685.64px;">![](https://lh4.googleusercontent.com/y29-5BetEC6MpipZzAp-3OOuj8gXBweTiPXhGee7n7W1SQoTlQ8IPIZOc-q2PGA09TNw8M8l9j5QGdKKNixstuupOzdVZwcJS7L74Llq-28qCl-hJesifLw-VuMK9UlAyK7qgK8W)</span>

<span>S</span><span class="c1">ome of the external components the automation system interacts with: LED light On-Off state and brightness, Solenoid controlling nutrient spray, Humidity/Light/Temperature sensor box connected via UTP cable, LCD screen,air pump, water level sensor, water temperature sensor, PH and pressure sensor.</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 704.07px; height: 509.50px;">![](https://lh4.googleusercontent.com/CHxapu5jhHMzV1rhlW00-siykOTa_P02nJXqwVvujX6f8eHKwxPeI1003xZyNGPZLKxnL1Voj6Zx4GJ_tpr6w2ZKW6S1AtGSSYg_CBCvyb-RL3LtK_X_9G2HqOzgKNqoQMX2Fo5p)</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 497.74px; height: 509.50px;">![](https://lh6.googleusercontent.com/I7cS2Uqw6lpABQ4xDW5vxk_8ARGARBuKbgcUoK7rcEi3ckCxm9jeZ6Wq63Q59dAb-YkebmKQGfrWWUB2hUYSVjaMCL8aynAylpeehWO546tKcyqveqMmM2DlpeUPOxnKTjAL6HLd)</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1205.00px; height: 329.18px;">![](https://lh4.googleusercontent.com/sm6DGjBmjoFprCUpKaRZHSs9zHp02-AHV9m4W50HFU52mTCLlsMUWV_sOzjd-7vA4vSGimh3SiXfgfrzy9_8JV-CxMQ_4S1wJIGZq9Q-dSw09umwLEe_sylMYOVLaakurmRV2Wbm)</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 798.50px; height: 533.00px;">![](https://lh6.googleusercontent.com/I4_IIxdx_j2UxpmnpCy1s_fFenrXg5kMVe_KMh_U1AbPWqXcofR6aIa8SaUQjurQdFYufx4s0g6J82BRz4pk0gxRsB2QhfGM3TXx_hW2V3lLbvFboR1aaS0EcC87Hjf9qcmmS0Bv)</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 405.50px; height: 533.34px;">![](https://lh4.googleusercontent.com/MVYGEJDmEMbd5c2ASiszo83Dq6ytOnJzzOhEau5R_eGkbzOYdz_izdWFkZC5PXIlKR9gdrTymxO6w3eGkVFZqQ3fXysf0yMn0wb2b1EI4MvAdXwSkEmvTficVPh2Ogg5aeNwkhB1)</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 617.00px; height: 396.36px;">![](https://lh5.googleusercontent.com/J8TGiv1Yx-rHvG-XRU4KpOT4MKVLVPG_epv5y6tCgzsU0kzBcTwtd-JOcDtYiNrBcpNt2g2_2AQx5nhCaGRU2T342fSeNCracKzCOYS3BHQ30oodDhx9Y4Pb4BHUV1C6lqRtqxBU)</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 588.00px; height: 395.67px;">![](https://lh6.googleusercontent.com/Ng0xAc79qitv4GV52ntzTsRZvGHYHuYZkeXkcfBP5crXNAPuDqbi_MHnHeMuCZ7v1KV-i6P3wUZKeCI1pgQ3UoTNuVCYII5A1YxiP9I5ZzoHaNasgNgqgOnwxrZe0UmnVze82gz8)</span>

<span class="c1">Logs are displayed using Google Sheets webview, displaying a quick overview, a few historical charts and the raw sensor reading history. The charts displayed below were generated from over 4000 reports sent by the grow box over the course of three months. Charts are updated every 5 minutes by Google, reporting frequency during the test period was once every 30 minutes.</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1214.56px; height: 711.50px;">![](https://lh3.googleusercontent.com/UR7qikkgLXghnbFlD7w6zWGOPJRzKyEDwsFL7usSf01Df02GMY4Y7N5fZ5gHhoXzzy2tMzts645AcMl4LYwjE6Q5AfZ1hX93aIj57Ge06OwXzKTjHJ2kYDPwytw3dy3CWT7l_G4k)</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1213.96px; height: 686.50px;">![](https://lh5.googleusercontent.com/zvgDJ5zQdvBvoo497YPcWT2n4Gwp04F_LB-E60ktU3mXiXoN31iMFBdQIQxrjDNRwJ6T4sHlD1D5CpTry9J1orO4Bu931K5TRAlWAP_4iqNLwCfzO1RmXIVL29qKHFasfA1uRqS4)</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1210.50px; height: 689.30px;">![](https://lh5.googleusercontent.com/vzipvarhPI2gwyJMhyYQqQjmJYrz9EstjQ_J-ZJrS1L_vB1x2bqHdIffx1XfR7UboQpf-DHFxBpaX1ct_vSz3rR6UfAIAbsXindUi-Q3zFrcHdruOBzcCUS4cpUqj5kuNOe-9yRT)</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1209.96px; height: 630.50px;">![](https://lh5.googleusercontent.com/7fmeolSBmyEGQh6wugsgYgoETHOGYhcxbmew39wXH5oorD4k08p1v8L8Z2itLAd0teYy6IMQkucjDe7JY6oWW0IiAYvRk9k4yxTJZ2mX4YzeBtNhq278aPvFExfHkQRbehFGHdV3)</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 1208.00px; height: 480.59px;">![](https://lh4.googleusercontent.com/UIWt7YfQLP55jp858UyG9Wtn4x-EdM39zeuHiyHamYyLG62Ggzuv_oMmiPUYTW7xVS0SHY6km5_idvAh9m1PuFVRF6UeuhWccXozCGQnhY0m2iwhu3OTjfZ0JM3njVsn7K5TIzS4)</span>

<span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 519.00px; height: 543.42px;">![](https://lh6.googleusercontent.com/0T6WkkkxakhOLfwABSQAFEPV7aIqQ4RegBP81PgTyWfAZoMNllFfL9T2vd9DEkz7Htcs4PYBQLz_NudCEiekZg5lDHlGL0DFYzzFttGdSmPxT_M_mzrVjH5DzgF_8PQkno5GfNRG)</span>

<div>

<span class="c1"></span>

</div>

</div>

